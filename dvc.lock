schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/DeepfakeDetection/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 511e7f4a31be74612237eea745114125
      size: 673
    - path: src/DeepfakeDetection/components/data_ingestion.py
      hash: md5
      md5: 4b30a4bbdb75ad861c6b5125af83555a
      size: 5479
    - path: src/DeepfakeDetection/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: 91709652d0014be3ea96fc12c894aff1
      size: 1139
    outs:
    - path: artifacts/data_ingestion/data
      hash: md5
      md5: 1a707e087f75c755842d383e3b6fd14e.dir
      size: 6730748327
      nfiles: 2065
  data_preprocessing:
    cmd: python src/DeepfakeDetection/pipeline/stage_02_data_preprocessing.py
    deps:
    - path: artifacts/data_ingestion/data
      hash: md5
      md5: 1a707e087f75c755842d383e3b6fd14e.dir
      size: 6730748327
      nfiles: 2065
    - path: config/config.yaml
      hash: md5
      md5: 511e7f4a31be74612237eea745114125
      size: 673
    - path: src/DeepfakeDetection/components/data_preprocessing.py
      hash: md5
      md5: 02daeee1ad404085b8c97334c3e3ce9b
      size: 11294
    - path: src/DeepfakeDetection/pipeline/stage_02_data_preprocessing.py
      hash: md5
      md5: 00a26e1384da1307de6787be0be69fe7
      size: 1335
    params:
      params.yaml:
        expansion_factor: 0.2
        fps: 30
        max_frames: 200
        resolution:
        - 224
        - 224
    outs:
    - path: artifacts/data_preprocessing/test
      hash: md5
      md5: 2fa9d740c55a0df83ac315ca4ff3b5a2.dir
      size: 104970872
      nfiles: 310
    - path: artifacts/data_preprocessing/train
      hash: md5
      md5: 6896936fd10908f286303fd206d6a3fc.dir
      size: 480338186
      nfiles: 1445
    - path: artifacts/data_preprocessing/val
      hash: md5
      md5: ad9eb673e3e60a1a983bb0c7cda8d060.dir
      size: 102306362
      nfiles: 310
  model_training:
    cmd: python src/DeepfakeDetection/pipeline/stage_03_model_training.py
    deps:
    - path: artifacts/data_preprocessing/train
      hash: md5
      md5: 6896936fd10908f286303fd206d6a3fc.dir
      size: 480338186
      nfiles: 1445
    - path: artifacts/data_preprocessing/val
      hash: md5
      md5: ad9eb673e3e60a1a983bb0c7cda8d060.dir
      size: 102306362
      nfiles: 310
    - path: config/config.yaml
      hash: md5
      md5: 511e7f4a31be74612237eea745114125
      size: 673
    - path: src/DeepfakeDetection/components/model_training.py
      hash: md5
      md5: 4e7261ce46c3ecdc84a5242422b45d7a
      size: 20551
    - path: src/DeepfakeDetection/pipeline/stage_03_model_training.py
      hash: md5
      md5: 526936f505a08e7e06f7824751704019
      size: 1008
    params:
      params.yaml:
        batch_size: 12
        bidirectional: true
        dropout_rate: 0.5
        epochs: 200
        input_shape:
        - 224
        - 224
        - 3
        learning_rate: 0.0001
        lstm_layers: 1
        num_workers: 4
        sequence_length: 10
        units: 2048
        weight_decay: 1e-05
    outs:
    - path: artifacts/model_training/model.pt
      hash: md5
      md5: 1665987a1d01e2905de742cda50c8e51
      size: 618707150
  model_evaluation:
    cmd: python src/DeepfakeDetection/pipeline/stage_04_model_evaluation.py
    deps:
    - path: artifacts/data_preprocessing/test
      hash: md5
      md5: 2fa9d740c55a0df83ac315ca4ff3b5a2.dir
      size: 104970872
      nfiles: 310
    - path: artifacts/model_training/model.pt
      hash: md5
      md5: 1665987a1d01e2905de742cda50c8e51
      size: 618707150
    - path: config/config.yaml
      hash: md5
      md5: 511e7f4a31be74612237eea745114125
      size: 673
    - path: src/DeepfakeDetection/components/model_evaluation.py
      hash: md5
      md5: ab1910198083d0f81eea34b4eb2a2133
      size: 14717
    - path: src/DeepfakeDetection/pipeline/stage_04_model_evaluation.py
      hash: md5
      md5: 20487d54aef66bfe12f394be4690940e
      size: 1534
    params:
      params.yaml:
        batch_size: 12
        input_shape:
        - 224
        - 224
        - 3
        num_workers: 4
        sequence_length: 10
    outs:
    - path: artifacts/model_evaluation/score.json
      hash: md5
      md5: 44760479755c3efe89c871137fe5e932
      size: 201
