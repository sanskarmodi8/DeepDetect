schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/DeepfakeDetection/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 7b1a661a004992d36a2a40c23c27df9f
      size: 982
    - path: src/DeepfakeDetection/components/data_ingestion.py
      hash: md5
      md5: 54fd7dd76340336d90bdb88a05fc15c4
      size: 8120
    - path: src/DeepfakeDetection/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: 91709652d0014be3ea96fc12c894aff1
      size: 1139
    outs:
    - path: artifacts/data_ingestion/data
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
  data_preprocessing:
    cmd: python src/DeepfakeDetection/pipeline/stage_02_data_preprocessing.py
    deps:
    - path: artifacts/data_ingestion/data
      hash: md5
      md5: 67176ea9acb2442fafd84cba7d120192.dir
      size: 2726316097
      nfiles: 905
    - path: config/config.yaml
      hash: md5
      md5: 511e7f4a31be74612237eea745114125
      size: 673
    - path: src/DeepfakeDetection/components/data_preprocessing.py
      hash: md5
      md5: e553d8357bba9544293a625c6f4c36d4
      size: 8055
    - path: src/DeepfakeDetection/pipeline/stage_02_data_preprocessing.py
      hash: md5
      md5: 35eb4149663a63c39962934cc6d94694
      size: 862
    params:
      params.yaml:
        fps: 30
        max_frames: 150
        resolution:
        - 112
        - 112
    outs:
    - path: artifacts/data_preprocessing/test
      hash: md5
      md5: cf4d698ddb3e16aa4314cf87437f5227.dir
      size: 13475998
      nfiles: 136
    - path: artifacts/data_preprocessing/train
      hash: md5
      md5: 910ba440377df15ebe01e5b431a7b239.dir
      size: 60249805
      nfiles: 633
    - path: artifacts/data_preprocessing/val
      hash: md5
      md5: bf0ba5101fc74b7dcec521048a9b0a96.dir
      size: 12150838
      nfiles: 136
  model_training:
    cmd: python src/DeepfakeDetection/pipeline/stage_03_model_training.py
    deps:
    - path: artifacts/data_preprocessing/train
      hash: md5
      md5: 910ba440377df15ebe01e5b431a7b239.dir
      size: 60249805
      nfiles: 633
    - path: artifacts/data_preprocessing/val
      hash: md5
      md5: bf0ba5101fc74b7dcec521048a9b0a96.dir
      size: 12150838
      nfiles: 136
    - path: config/config.yaml
      hash: md5
      md5: 511e7f4a31be74612237eea745114125
      size: 673
    - path: src/DeepfakeDetection/components/model_training.py
      hash: md5
      md5: 2e670787701a0b72200466b1fb259d40
      size: 10096
    - path: src/DeepfakeDetection/pipeline/stage_03_model_training.py
      hash: md5
      md5: 1c9175ef6258a14a5a2eb20012c17fce
      size: 726
    params:
      params.yaml:
        batch_size: 16
        dropout_rate: 0.5
        epochs: 100
        input_shape:
        - 224
        - 224
        - 3
        learning_rate: 0.0001
        num_workers: 4
        sequence_length: 20
        units: 2048
    outs:
    - path: artifacts/model_training/model.pt
      hash: md5
      md5: a272361118e97a9348eb7cef29283f3e
      size: 226610342
  model_evaluation:
    cmd: python src/DeepfakeDetection/pipeline/stage_04_model_evaluation.py
    deps:
    - path: artifacts/data_preprocessing/test
      hash: md5
      md5: cf4d698ddb3e16aa4314cf87437f5227.dir
      size: 13475998
      nfiles: 136
    - path: artifacts/model_training/model.pt
      hash: md5
      md5: a272361118e97a9348eb7cef29283f3e
      size: 226610342
    - path: config/config.yaml
      hash: md5
      md5: 511e7f4a31be74612237eea745114125
      size: 673
    - path: src/DeepfakeDetection/components/model_evaluation.py
      hash: md5
      md5: 520f3be31c7d7e92f686297db227aeff
      size: 6726
    - path: src/DeepfakeDetection/pipeline/stage_04_model_evaluation.py
      hash: md5
      md5: effc1a73fba13c41e7b5f6fe4f28c209
      size: 842
    params:
      params.yaml:
        batch_size: 16
        input_shape:
        - 224
        - 224
        - 3
        num_workers: 4
        sequence_length: 20
    outs:
    - path: artifacts/model_evaluation/score.json
      hash: md5
      md5: d7c5e52fe90a8693d9233854bc2e1836
      size: 202
